(this.webpackJsonpcheck_vaccine=this.webpackJsonpcheck_vaccine||[]).push([[0],{107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},112:function(e,t,c){},122:function(e,t,c){},123:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(8),s=c.n(i),r=(c(107),c(108),c(28)),o=(c(109),c(35)),l=c(9),j=c(157),d=function(e){var t=new Array;return Object.keys(e).forEach((function(c,n,a){var i=Number.parseFloat(c);t.push({id:i,name:""+e[i]})})),t},b=function(e,t,c){if("undefined"==typeof t&&(t=e,e=0),"undefined"==typeof c&&(c=1),c>0&&e>=t||c<0&&e<=t)return[];for(var n=[],a=e;c>0?a<t:a>t;a+=c)n.push(a);return n},u=function(e){return{id:e,name:""+e}},O={1:"Covishield",2:"Covaxin",3:"Sputnik V"},h=d(O),p=d({18:"18+",45:"45+"}),f=b(1,3,1).map(u),x=b(1,19,1).map(u),v="pincode",m="district",g="waiting",y="done",S=c(73),C=c(90),k=c(66),D=c(89),E=c(166),_=c(84),I=c.n(_),T=c(163),A=c(85),w=c.n(A),N=c(87),F=c.n(N),L=c(83),B=c.n(L),W=c(86),M=c.n(W),P=c(165),V=c(167),J=c(168),R=c(164),q=(c(111),c(112),c(19)),K="SELECT_STATE",G="SELECT_DISTRICT",U="SELECT_PINCODE",z="SELECT_VACCINE",Q="SELECT_DOSE",Y="SELECT_WEEK",H="SELECT_AGE",X="SET_MODE",Z="SET_SLOT",$="SET_INTERVAL",ee=function(e){return{type:X,data:e}},te=function(e){return{type:Z,data:e}},ce=c(170),ne=c(72),ae=c.n(ne),ie=c(78),se="https://cdn-api.co-vin.in/",re=se+"api/v2/admin/location/districts/{stateId}",oe=se+"api/v2/appointment/sessions/public/calendarByPin?pincode={pinCode}&date={startDate}",le=se+"api/v2/appointment/sessions/public/calendarByDistrict?district_id={districtId}&date={startDate}";function je(){return de.apply(this,arguments)}function de(){return(de=Object(ie.a)(ae.a.mark((function e(){var t,c,n=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch.apply(void 0,n);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.statusText);case 5:return c=t.json(),console.log("DEVENDER response JSON "+c),e.next=9,c;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(e,t){return je(oe.replace("{pinCode}",e.toString()).replace("{startDate}",t))},ue=function(e,t){return je(le.replace("{districtId}",e.toString()).replace("{startDate}",t))},Oe=c(2),he=function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(pe,Object(l.a)({},e))})},pe=function(e){return Object(Oe.jsxs)("div",{className:"search-filter",children:[Object(Oe.jsx)("p",{className:"heading",children:Object(Oe.jsx)("b",{children:"Search Filters"})}),Object(Oe.jsx)(fe,Object(l.a)({},e))]})};function fe(e){var t=xe(),c=Object(q.b)(),a=Object(n.useState)("dist"),i=Object(r.a)(a,2),s=i[0],o=i[1];return Object(n.useEffect)((function(){c(ee("dist"===s?m:v))}),[c,s]),Object(Oe.jsx)("div",{className:t.root,children:Object(Oe.jsxs)(C.a,{variant:"pills",id:"controlled-tab-example",activeKey:s,onSelect:function(e){e&&(c(ee("dist"===e?m:v)),o(e))},children:[Object(Oe.jsxs)(S.a,{eventKey:"dist",title:"Search By District",children:[Object(Oe.jsx)(ve,Object(l.a)({},e)),Object(Oe.jsx)(Se,Object(l.a)({},e))]}),Object(Oe.jsxs)(S.a,{eventKey:"pin",title:"Search By Pincode",children:[Object(Oe.jsx)(me,Object(l.a)({},e)),Object(Oe.jsx)(Se,Object(l.a)({},e))]})]})})}var xe=Object(j.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),ve=function(e){var t=Object(q.b)(),c=Object(n.useState)([]),a=Object(r.a)(c,2),i=a[0],s=a[1],o=Object(n.useState)([]),l=Object(r.a)(o,2),j=l[0],d=l[1];return Object(n.useEffect)((function(){i.length<=0&&Ce(s)}),[i]),Object(Oe.jsxs)("div",{style:{display:"flex",height:"64px"},children:[Object(Oe.jsx)(ye,{label:"State",values:i,callback:function(e){t({type:K,data:e}),ke(d,e)}}),"\xa0\xa0 \xa0\xa0",Object(Oe.jsx)(ye,{label:"District",values:j,callback:function(e){t({type:G,data:e})}})]})},me=function(e){var t=Object(q.b)();return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{style:{textAlign:"left",display:"flex",height:"64px"},children:["\xa0\xa0",Object(Oe.jsx)(E.a,{id:"standard-basic",label:"Enter Pincode",onChange:function(e){var c;t((c=parseInt(e.target.value.trim()),{type:U,data:c}))},style:{margin:0,padding:0},placeholder:"Pincode"})]})})},ge=Object(j.a)((function(e){return Object(ce.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),ye=function(e){var t=ge(),c=e.label,a=e.values,i=e.callback,s=Object(n.useState)(""),o=Object(r.a)(s,2),l=o[0],j=o[1],d=a||[];return Object(Oe.jsx)("div",{children:Object(Oe.jsxs)(T.a,{className:t.formControl,children:[Object(Oe.jsx)(V.a,{id:"demo-simple-select-"+c,children:c}),Object(Oe.jsx)(P.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,onChange:function(e){j(e.target.value),i&&i(e.target.value)},children:d.map((function(e){return Object(Oe.jsx)(J.a,{value:e.id,children:e.name})}))})]})})},Se=function(e){var t=Object(q.b)(),c=Object(n.useState)(!1),a=Object(r.a)(c,2),i=a[0],s=a[1],o=i?"secondary":"primary",l=i?Object(Oe.jsx)(B.a,{}):Object(Oe.jsx)(I.a,{}),j=i?"Stop Monitoring":"Monitor Slot";return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("br",{}),Object(Oe.jsx)("div",{style:{alignItems:"center"},children:Object(Oe.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(Oe.jsx)(ye,{label:"Vaccine Type",callback:function(e){t({type:z,data:O[e]})},values:h}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ye,{label:"Dose",callback:function(e){t(function(e){return{type:Q,data:e}}(e))},values:f}),Object(Oe.jsx)("br",{})]})}),Object(Oe.jsx)("br",{}),Object(Oe.jsxs)("div",{style:{alignItems:"start",alignContent:"start",textAlign:"left"},children:[Object(Oe.jsx)(ye,{label:"Age Group",callback:function(e){t({type:H,data:e})},values:p}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)(ye,{label:"Week",callback:function(e){t(function(e){return{type:Y,data:e}}(e))},values:x}),Object(Oe.jsx)("br",{})," ",Object(Oe.jsx)("br",{}),"\xa0\xa0",Object(Oe.jsx)(R.a,{variant:"contained",color:"primary",startIcon:Object(Oe.jsx)(w.a,{}),onClick:function(){t(te([])),e.checkSlotsCB()},children:"Check Slot"}),"\xa0\xa0",Object(Oe.jsx)(R.a,{variant:"contained",color:o,startIcon:l,onClick:function(){var c=i;s(!i),t(te([])),c?e.stopMonitorCB():e.monitorSlotsCB((function(){s(!1)}))},children:j}),"\xa0\xa0",Object(Oe.jsx)(R.a,{variant:"contained",color:"default",startIcon:Object(Oe.jsx)(M.a,{}),onClick:function(){window.location.reload()},children:"Reset"}),"\xa0\xa0",Object(Oe.jsx)(D.a,{trigger:"click",placement:"right",overlay:De,children:Object(Oe.jsx)(R.a,{variant:"contained",color:"default",startIcon:Object(Oe.jsx)(F.a,{}),children:"Disclaimer"})}),Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{})]})]})},Ce=function(e){var t=[],c="stateList",n=localStorage.getItem(c);n?(t=JSON.parse(n),e(t)):je("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(n){var a=n.states.map((function(e){return{id:e.state_id,name:e.state_name}}));t=a,localStorage.setItem(c,JSON.stringify(t)),e(t)}))},ke=function(e,t){var c=[],n="districtList-"+t,a=localStorage.getItem(n);a?(c=JSON.parse(a),e(c)):function(e){return je(re.replace("{stateId}",e.toString()))}(t).then((function(t){var a=t.districts.map((function(e){return{id:e.district_id,name:e.district_name}}));c=a,localStorage.setItem(n,JSON.stringify(c)),e(c)}))},De=Object(Oe.jsxs)(k.a,{id:"disclaimer",children:[Object(Oe.jsx)(k.a.Title,{as:"h3",children:"Disclaimer"}),Object(Oe.jsxs)(k.a.Content,{children:["Disclaimer:",Object(Oe.jsxs)("ol",{children:[Object(Oe.jsx)("li",{children:"This is a third-party application. It does not facilitate any appointment or booking of vaccine. Booking is to be done only by official medium like Cowin portal, Aarogya Setu or Umang App."}),Object(Oe.jsx)("li",{children:"There is no correctness guarantee of the data. This application fetches data from the open API of Cowin. Responses may be cached or delayed or withheld by these APIs."}),Object(Oe.jsx)("li",{children:"Considering above point, it does not guarantee any availability of the slot."}),Object(Oe.jsx)("li",{children:"We have no responsibility of any event arising due to the use of this website."}),Object(Oe.jsx)("li",{children:"This website or app does not store any personal data. It does not expect or store any cookie. It neither expect any personal data in network communication."}),Object(Oe.jsx)("li",{children:"Browser local storage is being used to provide smooth experience. Only state and district data is stored. There is no personal data stored. This can be viewed in local storage settings of the browser."}),Object(Oe.jsx)("li",{children:"This website is open source. User is free to use and distribute. Also, user can modify its code as per the requirement. But cannot claim copyright over that."})]})]})]}),Ee=(c(122),c(88)),_e=function(e){var t=e.appState.appState,c=Object(q.c)((function(e){return e})),n=function(e){return e.availableSlots&&e.availableSlots.length>0?e.availableSlots:[]}(c);return Object(Oe.jsxs)("div",{className:"result-mobile",children:[!t&&Object(Oe.jsx)("p",{style:{color:"blue"},children:Object(Oe.jsxs)("b",{children:["Click 'Check Slot' to query slots.",Object(Oe.jsx)("br",{}),"Click 'Monitor Slot' to monitor free slots."]})}),t===g&&Object(Oe.jsx)("p",{style:{color:"blue"},children:Object(Oe.jsxs)("b",{children:["Waiting. Querying every ",c.interval," seconds."]})}),t===y&&(!n||n.length<=0)&&Object(Oe.jsx)("p",{style:{color:"red"},children:Object(Oe.jsx)("b",{children:"No Slots available"})}),n&&0!==n.length&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(Ee.a,{striped:!0,hover:!0,size:"sm",children:[Object(Oe.jsxs)("thead",{children:[!o.isMobile&&Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{children:"Site"}),Object(Oe.jsx)("th",{children:"Address"}),Object(Oe.jsx)("th",{children:"Date"}),Object(Oe.jsx)("th",{children:"Slots"})]}),o.isMobile&&Object(Oe.jsxs)("tr",{children:[Object(Oe.jsx)("th",{children:"Site"}),Object(Oe.jsx)("th",{children:"Address"})]})]}),Object(Oe.jsxs)("tbody",{children:[!o.isMobile&&n.map((function(e){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{children:[e.siteName,Object(Oe.jsx)("br",{}),"Age: ",Object(Oe.jsx)("b",{children:e.age}),Object(Oe.jsx)("br",{}),"Vaccine: ",Object(Oe.jsx)("b",{children:e.vaccine}),Object(Oe.jsx)("br",{}),"Fee (if any):",Object(Oe.jsx)("b",{children:e.vaccineFee?e.vaccineFee:"Free"})]}),Object(Oe.jsxs)("td",{children:[e.siteAddress.split("\n").map((function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[e,Object(Oe.jsx)("br",{})]})})),e.lat&&e.long&&Object(Oe.jsx)("a",{href:"https://maps.google.com/?q="+e.lat+","+e.long,children:"Location"})]}),Object(Oe.jsx)("td",{children:e.date}),Object(Oe.jsxs)("td",{children:[e.slotsAvailable,Object(Oe.jsx)("br",{}),"Dose 1: ",e.firstDose,Object(Oe.jsx)("br",{}),"Dose 2: ",e.secondDose]})]})})),o.isMobile&&n.map((function(e){return Object(Oe.jsxs)("tr",{children:[Object(Oe.jsxs)("td",{children:[e.siteName,Object(Oe.jsx)("br",{})," Date: ",Object(Oe.jsx)("b",{children:e.date}),Object(Oe.jsx)("br",{}),"Age: ",Object(Oe.jsx)("b",{children:e.age}),Object(Oe.jsx)("br",{}),"Vaccine: ",Object(Oe.jsx)("b",{children:e.vaccine}),Object(Oe.jsx)("br",{}),"Fee (if any):",Object(Oe.jsx)("b",{children:e.vaccineFee?e.vaccineFee:"Free"})]}),Object(Oe.jsxs)("td",{children:[e.siteAddress.split("\n").map((function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[e,Object(Oe.jsx)("br",{})]})})),e.lat&&e.long&&Object(Oe.jsx)("a",{href:"https://maps.google.com/?q="+e.lat+","+e.long,children:"Location"}),Object(Oe.jsx)("br",{}),"Slots: ",Object(Oe.jsx)("b",{children:e.slotsAvailable}),Object(Oe.jsx)("br",{}),"Dose 1: ",Object(Oe.jsx)("b",{children:e.firstDose}),Object(Oe.jsx)("br",{}),"Dose 2: ",Object(Oe.jsx)("b",{children:e.secondDose})]})]})}))]})]})})]})},Ie=null,Te=function(e){return void 0!==e.selectedPin},Ae=function(e){return void 0!==e.selectedDistrict},we=function(e,t){var c=e.selectedPin,n=Pe(void 0!==e.selectedWeek?e.selectedWeek:1);be(c,n).then(Je(e,t))},Ne=function(e,t){var c=e.selectedDistrict,n=Pe(void 0!==e.selectedWeek?e.selectedWeek:1);ue(c,n).then(Je(e,t))},Fe=function(e,t){var c=e.selectedPin,n=Pe(void 0!==e.selectedWeek?e.selectedWeek:1);be(c,n).then(Ve(e,t))},Le=function(e,t){var c=e.selectedDistrict,n=Pe(void 0!==e.selectedWeek?e.selectedWeek:1);ue(c,n).then(Ve(e,t))},Be=function(e,t){var c=[];return e.centers.forEach((function(e){e.sessions.forEach((function(n){if(n.available_capacity>0&&(function(e,t){return!t||(1===t?e.available_capacity_dose1>0:e.available_capacity_dose2>0)}(n,t.selectedDose)&&function(e,t){return!t||e.vaccine.toLowerCase()===t.toLowerCase()}(n,t.selectedVaccine)&&function(e,t){return!t||t>=e.min_age_limit}(n,t.selectedAge))){var a=e.vaccine_fees?e.vaccine_fees.filter((function(e){return e.vaccine===n.vaccine})).map((function(e){return e.fee})):[],i="";a.length>0&&(i=a[0]),c.push({siteName:e.name,siteAddress:e.address+"\n"+e.district_name+"\n"+e.state_name+" - "+e.pincode,date:n.date,slotsAvailable:n.available_capacity,vaccine:n.vaccine,firstDose:n.available_capacity_dose1,secondDose:n.available_capacity_dose2,age:Me(t.selectedAge?t.selectedAge:n.min_age_limit),feeType:e.fee_type,vaccineFee:i,lat:e.lat,long:e.long})}}))})),c.sort((function(e,t){return We(e.date,t.date)}))},We=function(e,t){var c=e.split("-"),n=t.split("-"),a=c[2].localeCompare(n[2]);return a||((a=c[1].localeCompare(n[1]))||c[0].localeCompare(n[0]))},Me=function(e){return 18===e?"18-44":e+"+"},Pe=function(e){var t=new Date,c=e>=1?new Date(t.getTime()+7*(e-1)*24*60*60):t;return c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear()},Ve=function(e,t){return function(c){var n=Be(c,e);t(n)}};function Je(e,t){return function(c){var n=Be(c,e);n.length>0&&(t(n),clearInterval(Ie))}}var Re=function(){var e=o.isMobile?"page-mobile":"page",t=Object(n.useState)({appState:""}),c=Object(r.a)(t,2),a=c[0],i=c[1],s=Object(q.c)((function(e){return e})),l=Object(q.b)();return Object(Oe.jsxs)("div",{className:e,children:[Object(Oe.jsx)("div",{className:"row1-mobile",children:Object(Oe.jsx)(he,{setAppState:i,checkSlotsCB:function(){!function(e,t){e.mode===v&&Te(e)?Fe(e,t):e.mode&&e.mode!==m||!Ae(e)||Le(e,t)}(s,(function(e){i({appState:y}),l(te(e))}))},monitorSlotsCB:function(e){!function(e,t,c){var n=e.interval;e.mode===v&&Te(e)?(c(),Ie=setInterval((function(){return we(e,t)}),1e3*n)):e.mode===m&&Ae(e)&&(c(),Ie=setInterval((function(){return Ne(e,t)}),1e3*n))}(s,(function(t){i({appState:y}),l(te(t)),e()}),(function(){i({appState:g})}))},stopMonitorCB:function(){var e;e=function(){i({appState:""})},clearInterval(Ie),e()}})}),Object(Oe.jsx)("div",{className:"row2-mobile",children:Object(Oe.jsx)(_e,{appState:a})})]})};var qe=function(){return Object(Oe.jsx)("div",{className:"App",children:Object(Oe.jsx)(Re,{})})},Ke=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,171)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))},Ge=c(91),Ue={interval:5},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(l.a)(Object(l.a)({},e),{},{selectedState:t.data});case G:return Object(l.a)(Object(l.a)({},e),{},{selectedDistrict:t.data});case U:return Object(l.a)(Object(l.a)({},e),{},{selectedPin:t.data});case Q:return Object(l.a)(Object(l.a)({},e),{},{selectedDose:t.data});case z:return Object(l.a)(Object(l.a)({},e),{},{selectedVaccine:t.data});case Y:return Object(l.a)(Object(l.a)({},e),{},{selectedWeek:t.data});case H:return Object(l.a)(Object(l.a)({},e),{},{selectedAge:t.data});case X:return Object(l.a)(Object(l.a)({},e),{},{mode:t.data});case Z:return Object(l.a)(Object(l.a)({},e),{},{availableSlots:t.data});case $:return Object(l.a)(Object(l.a)({},e),{},{interval:t.data})}return e},Qe=Object(Ge.a)(ze);s.a.render(Object(Oe.jsx)(a.a.StrictMode,{children:Object(Oe.jsx)(q.a,{store:Qe,children:Object(Oe.jsx)(qe,{})})}),document.getElementById("root")),Ke()}},[[123,1,2]]]);
//# sourceMappingURL=main.6dd49d57.chunk.js.map